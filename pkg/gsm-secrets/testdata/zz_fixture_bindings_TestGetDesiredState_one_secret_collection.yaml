- condition:
    description: 'Managed by test platform: Read access to secrets in collection-alpha
      collection'
    expression: |-
      (
        resource.type == "secretmanager.googleapis.com/SecretVersion" ||
        resource.type == "secretmanager.googleapis.com/Secret"
      ) && (
        resource.name.extract("secrets/{secret}") == "collection-alpha__updater-service-account" ||
        resource.name.extract("secrets/{secret}") == "collection-alpha____index"
      )
    title: Read access to secrets for collection-alpha
  members:
  - group:team-alpha@redhat.com
  - group:team-beta@redhat.com
  - serviceAccount:collection-alpha-updater@test-project.iam.gserviceaccount.com
  role: projects/test-project/roles/openshift_ci_secrets_viewer
- condition:
    description: 'Managed by test platform: Create, update, and delete access to secrets
      in collection-alpha collection'
    expression: "(\n  resource.type == \"secretmanager.googleapis.com/SecretVersion\"
      ||\n  resource.type == \"secretmanager.googleapis.com/Secret\"\n) && \n  resource.name.extract(\"secrets/{secret}\").startsWith(\"collection-alpha__\")"
    title: Create, update, and delete access for collection-alpha
  members:
  - group:team-alpha@redhat.com
  - group:team-beta@redhat.com
  - serviceAccount:collection-alpha-updater@test-project.iam.gserviceaccount.com
  role: projects/test-project/roles/openshift_ci_secrets_updater
